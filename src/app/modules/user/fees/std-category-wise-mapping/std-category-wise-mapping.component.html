<app-page-header [title]="'Standard And Category Wise Fee Mapping'" [items]="['Standard And Category Wise Fee Mapping']"
  [active_item]="'Add Standard And Category Wise Fee Mapping'"></app-page-header>
<div class="row row-sm">
  <div class="col-xl-12">
    <div class="card add-staff-here-update-cls">
      <div class="card-header pb-0">
        <div class="d-flex justify-content-between blocking-responsive">
          <h4 class="card-title mg-b-0">Standard And Category Wise Fee Mapping List</h4>
        </div>
        <!-- <div class="d-flex blocking-responsive">
            <div class="me-2 d-flex spacing-down-side">
              <input
                class="form-control me-2 ms-1"
                type="text"
                placeholder="Search..."
                [(ngModel)]="searchString"
                (keyup.enter)="onSearch()"
              />
              <button class="btn btn-primary me-2" (click)="onSearch()">
                Search
              </button>
              <button class="btn btn-dark" (click)="onClear()">Clear</button>
            </div>
            <button class="btn btn-primary" (click)="onModalOpen()">
              Add Division
            </button>
          </div>
        </div> -->
        <div class="d-flex blocking-responsive justify-content-end align-items-center mt-2">
          <div class="d-flex spacing-down-side position-relative">
            <input class="form-control me-2 ms-1" type="text" placeholder="Search..." [(ngModel)]="searchString"
              (keyup.enter)="onSearch()" />
            <div class="set-position-auto-cls-adding">
              <i class="fas fa-search" [ngClass]="{ 'hide-icon': searchString }"></i>
              <i class="far fa-times-circle" (click)="onClear()" [ngClass]="{ 'show-icon': searchString }"></i>
            </div>
          </div>
          <div class="d-flex blocking-responsive">
            <div class="add-reporting spacing-down-side">
              <button class="btn btn-primary spacing-left" (click)="onModalOpen()">
                <span class="add-ics-cls-proper-adding"><i class="fas fa-plus"></i></span>Add
              </button>
            </div>
          </div>
          <div class="export-btn-cls-add spacing-down-side">
            <select #selectExportAll (change)="exportAll(selectExportAll.value)">
              <option value="" selected disabled>Export</option>
              <option value="pdf">Export to PDF</option>
              <option value="excel">Export to Excel</option>
              <option value="csv">Export to CSV</option>
            </select>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table summary="table" class="table mg-b-0 text-md-nowrap table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">Sr. No.</th>
                <th scope="col" (click)="sortData('medium')">
                  Medium
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'medium' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'medium' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('standard')">
                  Standard
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'standard' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'standard' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('feeCategory')">
                  Fee Category
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'feeCategory' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'feeCategory' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('feeHeadDetail')">
                  Fee Head Details
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'feeHeadDetail' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'feeHeadDetail' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('feeHeadAmount')">
                  Fee Head Amount
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'feeHeadAmount' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'feeHeadAmount' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('installment_serial_no')">
                  Installments
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'installment_serial_no' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'installment_serial_no' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('installment_amount')">
                  Installment Amount
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'installment_amount' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'installment_amount' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('fee_date')">
                  Fee Date
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'fee_date' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'fee_date' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('late_fee_date')">
                  Late Fee Date
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'late_fee_date' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'late_fee_date' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('tenDaysDelayAmount')">
                  For =10 Days Delay
                  <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'tenDaysDelayAmount' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'tenDaysDelayAmount' && !isAscending
                      }"></span>
                  </div>
                </th>
                <th scope="col" (click)="sortData('tenToTwentyDaysDelayAmount')">
                  For >10<=20 Days Delay <div class="spacing-up-down-side-set">
                    <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'tenToTwentyDaysDelayAmount' && isAscending
                      }"></span>
                    <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'tenToTwentyDaysDelayAmount' && !isAscending
                      }"></span>
        </div>
        </th>
        <th scope="col" (click)="sortData('twentyDaysDelayAmount')">
          For >20 Days Delay
          <div class="spacing-up-down-side-set">
            <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'twentyDaysDelayAmount' && isAscending
                      }"></span>
            <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'twentyDaysDelayAmount' && !isAscending
                      }"></span>
          </div>
        </th>
        <th scope="col" (click)="sortData('is_active')">
          Status
          <div class="spacing-up-down-side-set">
            <span class="arrow-up" [ngClass]="{
                        'arrow-color': orderBy === 'is_active' && isAscending
                      }"></span>
            <span class="arrow-down" [ngClass]="{
                        'arrow-color': orderBy === 'is_active' && !isAscending
                      }"></span>
          </div>
        </th>
        <th scope="col">Action</th>
        </tr>
        </thead>
        <tbody *ngIf="subWiseCategoryWiseList?.length">
          <tr *ngFor="let item of subWiseCategoryWiseList; let i = index">
            <th scope="row">
              {{ i + 1 + currentPage * pageLimit - pageLimit }}
            </th>
            <td>{{ item.medium_name | titlecase }}</td>
            <td>{{ item.standard_name | titlecase }}</td>
            <td>{{ item.fee_category_name | titlecase }}</td>
            <td>{{ item.fee_head_group_master_name | titlecase }}</td>
            <td>{{ item.fee_head_amount }}</td>
            <td>{{ item.installment_serial_no }}</td>
            <td>{{ item.installment_amount }}</td>
            <td>{{ item.fee_date ? (item.fee_date| customDate:'dd-MM-yyyy HH:mm')  : ' - '}}</td>
            <td>{{ item.late_fee_date ? (item.late_fee_date | customDate:'dd-MM-yyyy HH:mm') : ' - ' }}</td>
            <td>{{ item.late_fee_date ? item.ten_days_delay_amount : '-' }}</td>
            <td>{{ item.late_fee_date ? item.ten_to_twenty_days_delay_amount : '-'}}</td>
            <td>{{ item.late_fee_date ? item.gtr_twenty_days_delay_amount : '-' }}</td>
            <td>{{ item.is_active ? "Active" : "In Active" }}</td>
            <td>
              <div class="d-flex align-items-center justify-content-center all-icons-edit-here-table-cls">
                <i (click)="deleteStandardWiseCategoryWiseMapping(item.id)" class="fas fa-trash"></i>
                <i (click)="editHeadGroupRecord(item.id)" class="fas fa-edit"></i>
              </div>
            </td>
          </tr>
        </tbody>
        <tbody *ngIf="!subWiseCategoryWiseList?.length">
          <tr>
            <td colspan="14" class="text-center">No Data Found</td>
          </tr>
        </tbody>
        </table>
      </div>
      <div class="d-flex justify-content-between p-2 record-pg-cls-cum-font">
        <div class="d-flex align-items-center">
          <select class="records-select" [(ngModel)]="pageLimit" name="" id="" (change)="onPageChange(1)">
            <option value="10">10</option>
            <option value="25">25</option>
            <option value="50">50</option>
            <option value="100">100</option>
            <option [value]="totalItems">All</option>
          </select>
          <h6 class="m-0">&nbsp;&nbsp; - records per page</h6>
        </div>
        <ngb-pagination [collectionSize]="totalItems" [maxSize]="5" [rotate]="true" [pageSize]="pageLimit"
          [(page)]="currentPage" aria-label="Default pagination" (pageChange)="onPageChange($event)">
        </ngb-pagination>
      </div>
    </div>
  </div>
</div>
</div>
<ng-template #stdCategoryModel>
  <div class="modal-header">
    <h4 class="modal-title">{{ EditId ? "Edit" : " Add" }} Standard And Category Wise Fee Mapping</h4>
    <button type="button" class="close" aria-label="Close" (click)="onModalClose()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="addStdCategoryForm">
      <div class="row">
        <div class="form-group col-lg-6 col-md-6 col-12 selection-label-reverse">
          <label>Medium <span class="required-asterisk">*</span></label>
          <ng-select (change)="mediumSelect($event)" placeholder="Select Medium" formControlName="medium">
            <ng-option [value]="option.id" *ngFor="let option of mediumList">{{ option.name }}</ng-option>
          </ng-select>
          <div *ngIf="(isSubmitted || form['medium'].touched) && form['medium'].errors?.['required']"
            class="text-danger">
            Medium is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12 selection-label-reverse">
          <label>Standard<span class="required-asterisk">*</span></label>
          <ng-select placeholder="Select Standard" formControlName="standard">
            <ng-option [value]="option.id" *ngFor="let option of standardList">{{ option.name }}</ng-option>
          </ng-select>

          <div *ngIf="(isSubmitted || form['standard'].touched) && form['standard'].errors?.['required']"
            class="text-danger">
            Standard is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12 selection-label-reverse">
          <label>Fee Category<span class="required-asterisk">*</span></label>
          <ng-select placeholder="Select Fee Category" formControlName="feeCategory">
            <ng-option [value]="option._id" *ngFor="let option of feesCategoryList">{{ option.name }}</ng-option>
          </ng-select>

          <div *ngIf="(isSubmitted || form['feeCategory'].touched) && form['feeCategory'].errors?.['required']"
            class="text-danger">
            Fee Category is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12 selection-label-reverse">
          <label>Fee Head Details<span class="required-asterisk">*</span></label>
          <ng-select placeholder="Select Fee Head" formControlName="feeHeadDetail">
            <ng-option [value]="option.id" *ngFor="let option of headGroupMasterListing">{{ option.name }}</ng-option>
          </ng-select>

          <div *ngIf="(isSubmitted || form['feeHeadDetail'].touched) && form['feeHeadDetail'].errors?.['required']"
            class="text-danger">
            Fee Head Details is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12">
          <input type="text" [class.disabled]="isEdit" oninput="this.value=this.value.replace(/[^\d]/g, '')"
            class="form-control" placeholder="Enter Fee Head Amount" formControlName="feeHeadAmount"
            (input)="feeAmountCalculate($event)" />
          <label>
            Fee Head Amount <span class="required-asterisk">*</span></label>
          <div *ngIf="(isSubmitted || form['feeHeadAmount'].touched) && form['feeHeadAmount'].errors?.['required']"
            class="text-danger">
            Fee Head Amount is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="!isEdit">
          <button class="btn btn-primary spacing-left ms-0" (click)="onAdd()"><i class="fas fa-plus"></i>Add
            Installments</button>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="isEdit">
          <input type="text" id="installment" formControlName="installment_serial_no" readonly />
          <label for="installment"><span class="required-asterisk">*</span>Installments <span
              class="required-asterisk">*</span></label>
          <div
            *ngIf="(isSubmitted || form['installment_serial_no'].touched) && form['installment_serial_no'].errors?.['required']"
            class="text-danger">
            Installment is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="isEdit">
          <input type="text" id="installmentAmount" formControlName="installment_amount"
            placeholder="Installment Amount" />
          <label for="installmentAmount"><span class="required-asterisk">*</span>Installment Amount<span
              class="required-asterisk">*</span></label>
          <div
            *ngIf="(isSubmitted || form['installment_amount'].touched) && form['installment_amount'].errors?.['required']"
            class="text-danger">
            Installment Amount is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="isEdit">
          <input type="date" id="feeDate" formControlName="fee_date" placeholder="Fee Date" />
          <label for="feeDate">Fee Date <span class="required-asterisk">*</span></label>
          <div *ngIf="(isSubmitted || form['fee_date'].touched) && form['fee_date'].errors?.['required']"
            class="text-danger">
            Fee Date is required.
          </div>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="isEdit">
          <input type="date" id="lateFeeDate" formControlName="late_fee_date" placeholder="Last Fee Date" />
          <label for="lateFeeDate">Late Fee Date </label>

        </div>
        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="this.addStdCategoryForm.controls['late_fee_date']?.value">
          <input id="tenDaysDelayAmount" oninput="this.value=this.value.replace(/[^\d]/g, '')" type="text"
            class="form-control" formControlName="tenDaysDelayAmount" (input)="disableIntegerInput(null)" />
          <label>
            For =10 Days Delay (int)</label>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="this.addStdCategoryForm.controls['late_fee_date']?.value">
          <input id="tenDaysDelayPercentage" min="0" max="100" oninput="this.value=this.value.replace(/[^\d]/g, '')"
            type="text" class="form-control" formControlName="tenDaysDelayPercentage"
            (input)="handleInput($event, null, '10DayDelay')" />
          <label>
            For =10 Days Delay (%)</label>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="this.addStdCategoryForm.controls['late_fee_date']?.value">
          <input id="tenToTwentyDaysDelayAmount" oninput="this.value=this.value.replace(/[^\d]/g, '')" type="text"
            class="form-control" formControlName="tenToTwentyDaysDelayAmount" (input)="disableIntegerInput(null)" />
          <label>
            For >10<=20 Days Delay (int)</label>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="this.addStdCategoryForm.controls['late_fee_date']?.value">
          <input id="tenToTwentyDaysDelayPercentage" min="0" max="100"
            oninput="this.value=this.value.replace(/[^\d]/g, '')" type="text" class="form-control"
            formControlName="tenToTwentyDaysDelayPercentage" (input)="handleInput($event, null, '10OrMoreDayDelay')" />
          <label>
            For >10<=20 Days Delay (%)</label>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="this.addStdCategoryForm.controls['late_fee_date']?.value">
          <input id="twentyDaysDelayAmount" type="text" oninput="this.value=this.value.replace(/[^\d]/g, '')"
            class="form-control" formControlName="twentyDaysDelayAmount" (input)="disableIntegerInput(null)" />
          <label>
            For >20 Days Delay (int)</label>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12" *ngIf="this.addStdCategoryForm.controls['late_fee_date']?.value">
          <input id="twentyDaysDelayPercentage" min="0" max="100" oninput="this.value=this.value.replace(/[^\d]/g, '')"
            type="text" class="form-control" formControlName="twentyDaysDelayPercentage"
            (input)="handleInput($event, null, '20MoreDayDelay')" />
          <label>
            For >20 Days Delay (%)</label>
        </div>

        <div class="form-group col-lg-6 col-md-6 col-12 selection-label-reverse" *ngIf="isEdit">
          <label>Status <span class="required-asterisk">*</span>
          </label>
          <select class="form-control" formControlName="Status">
            <option value="true">Active</option>
            <option value="false">In Active</option>
          </select>
          <div *ngIf="(isSubmitted || form['Status'].touched) && form['Status'].errors?.['required']"
            class="text-danger">
            Status is required.
          </div>
        </div>
      </div>

      <div formArrayName="serviceGroups" *ngIf="!isEdit">
        <div *ngFor="let serviceGroup of serviceGroups.controls; let i = index" [formGroupName]="i">
          <div class="row">
            <div class="form-group col-lg-6 col-md-6 col-12">
              <input type="text" id="installment" formControlName="installment_serial_no" readonly />
              <label for="installment"><span class="required-asterisk">*</span>Installments <span
                  class="required-asterisk">*</span></label>
              <div *ngIf="isSubmitted && getControl(i, 'installment_serial_no')?.hasError('required')"
                class="text-danger">
                Installment is required.
              </div>
            </div>
            <div class="form-group col-lg-6 col-md-6 col-12">
              <input type="text" id="installmentAmount" formControlName="installment_amount"
                placeholder="Installment Amount" />
              <label for="installmentAmount"><span class="required-asterisk">*</span>Installment Amount<span
                  class="required-asterisk">*</span></label>
              <div *ngIf="isSubmitted && getControl(i, 'installment_amount')?.hasError('required')" class="text-danger">
                Installment Amount is required.
              </div>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-lg-6 col-md-6 col-12">
              <input type="date" id="feeDate" formControlName="fee_date" placeholder="Fee Date" />
              <label for="feeDate">Fee Date <span class="required-asterisk">*</span></label>
              <div *ngIf="isSubmitted && getControl(i, 'fee_date')?.hasError('required')" class="text-danger">
                Fee Date is required.
              </div>
            </div>

            <ng-container *ngIf="!this.serviceGroups.at(i).get('late_fee_date')?.value; else increaseWidth">
              <div class="form-group col-lg-5 col-md-5 col-12">
                <input type="date" id="lateFeeDate" formControlName="late_fee_date" placeholder="Last Fee Date"
                  (input)="lastFeeDate(i)" />
                <label for="lateFeeDate">Late Fee Date </label>
              </div>
            </ng-container>

            <ng-template #increaseWidth>
              <div class="form-group col-lg-6 col-md-6 col-12">
                <input type="date" id="lateFeeDate" formControlName="late_fee_date" placeholder="Last Fee Date"
                  (input)="lastFeeDate(i)" />
                <label for="lateFeeDate">Late Fee Date </label>
              </div>
            </ng-template>

            <div class="form-group col-lg-1 col-12 col-md-1"
              *ngIf="!this.serviceGroups.at(i).get('late_fee_date')?.value"><button class="btn btn-danger"
                (click)="deleteInstallment(i)"><span class="cross-cls-svg-added">
                  <i class="fas fa-trash"></i>
                </span></button>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-lg-6 col-md-6 col-12"
              *ngIf="this.serviceGroups.at(i).get('late_fee_date')?.value">
              <input id="tenDaysDelayAmount" oninput="this.value=this.value.replace(/[^\d]/g, '')" type="text"
                class="form-control" (input)="disableIntegerInput(i)" formControlName="tenDaysDelayAmount" />
              <label>
                For =10 Days Delay (int)</label>
            </div>

            <div class="form-group col-lg-6 col-md-6 col-12"
              *ngIf="this.serviceGroups.at(i).get('late_fee_date')?.value">
              <input id="tenDaysDelayPercentage" min="0" max="100" oninput="this.value=this.value.replace(/[^\d]/g, '')"
                type="text" class="form-control" (input)="handleInput($event, i, '10DayDelay')"
                formControlName="tenDaysDelayPercentage" />
              <label>
                For =10 Days Delay (%)</label>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-lg-6 col-md-6 col-12"
              *ngIf="this.serviceGroups.at(i).get('late_fee_date')?.value">
              <input id="tenToTwentyDaysDelayAmount" oninput="this.value=this.value.replace(/[^\d]/g, '')" type="text"
                class="form-control" (input)="disableIntegerInput(i)" formControlName="tenToTwentyDaysDelayAmount" />
              <label>
                For >10<=20 Days Delay (int)</label>
            </div>

            <div class="form-group col-lg-6 col-md-6 col-12"
              *ngIf="this.serviceGroups.at(i).get('late_fee_date')?.value">
              <input id="tenToTwentyDaysDelayPercentage" min="0" max="100"
                oninput="this.value=this.value.replace(/[^\d]/g, '')" type="text" class="form-control"
                (input)="handleInput($event, i,'10OrMoreDayDelay')" formControlName="tenToTwentyDaysDelayPercentage" />
              <label>
                For >10<=20 Days Delay (%)</label>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-lg-6 col-md-6 col-12"
              *ngIf="this.serviceGroups.at(i).get('late_fee_date')?.value">
              <input id="twentyDaysDelayAmount" type="text" oninput="this.value=this.value.replace(/[^\d]/g, '')"
                class="form-control" (input)="disableIntegerInput(i)" formControlName="twentyDaysDelayAmount" />
              <label>
                For >20 Days Delay (int)</label>
            </div>
            <div class="form-group col-lg-5 col-md-5 col-12"
              *ngIf="this.serviceGroups.at(i).get('late_fee_date')?.value">
              <input id="twentyDaysDelayPercentage" min="0" max="100"
                oninput="this.value=this.value.replace(/[^\d]/g, '')" type="text" class="form-control"
                (input)="handleInput($event, i, '20MoreDayDelay')" formControlName="twentyDaysDelayPercentage" />
              <label>
                For >20 Days Delay (%)</label>
            </div>
            <div class="col-lg-1 col-12 col-md-1" *ngIf="this.serviceGroups.at(i).get('late_fee_date')?.value"><button
                class="btn btn-danger" (click)="deleteInstallment(i)"><span class="cross-cls-svg-added">
                  <i class="fas fa-trash"></i>
                </span></button>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="form-group col-lg-6 col-md-6 col-12 selection-label-reverse" *ngIf="!isEdit">
          <label>Status <span class="required-asterisk">*</span>
          </label>
          <select class="form-control" formControlName="Status">
            <option value="true">Active</option>
            <option value="false">In Active</option>
          </select>
          <div *ngIf="(isSubmitted || form['Status'].touched) && form['Status'].errors?.['required']"
            class="text-danger">
            Status is required.
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-center">
        <button type="button" class="btn btn-primary mt-4 mb-0" (click)="onSubmit()">Submit</button>
      </div>
    </form>
  </div>
</ng-template>